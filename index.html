<!DOCTYPE html>
<html lang="zh-TW">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>程式碼生存戰</title>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Noto+Sans+TC:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
  </head>

  <body>
    <div class="game-container">
        <div class="sidebar">
            <div class="camera-container">
                <video id="input-video" playsinline></video>
                <canvas id="hand-canvas"></canvas>
                <div class="hand-guides">
                    <div class="hand-guide left">左手：選擇答案</div>
                    <div class="hand-guide right">右手向上：確認</div>
                </div>
            </div>
            <div class="player-stats">
                <div class="stat-item">
                    <div class="stat-label">生命值</div>
                    <div class="health-bar">
                        <div class="health-fill"></div>
                        <div class="health-text">100%</div>
                    </div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">程式碼品質</div>
                    <div class="stat-value code-quality">0</div>
                </div>
            </div>
        </div>
        <div class="main-game-area">
            <div class="timer-container">
                <span>時間</span>
                <div class="timer-value">20</div>
            </div>
            <div class="streak-badge">
                <span>連擊</span>
                <div class="streak-count">0</div>
            </div>
            <canvas id="game-canvas"></canvas>
            <div class="challenge-container">
                <h2 class="challenge-title">程式挑戰</h2>
                <div class="code-block">
                    <pre></pre>
                </div>
                <div class="options-container">
                    <!-- 選項將由 JavaScript 動態生成 -->
                </div>
                <div class="gesture-hint">等待手勢...</div>
            </div>
        </div>
    </div>

    <div id="loading-screen" class="loading-screen">
        <div class="loading-content">
            <h2>載入中...</h2>
            <div class="loading-bar">
                <div class="loading-progress"></div>
            </div>
            <div class="loading-tip">準備開始你的程式碼生存之旅</div>
        </div>
    </div>

    <div id="tutorial" class="tutorial-overlay" style="display: none;">
        <div class="tutorial-content">
            <h2>歡迎來到程式碼生存戰</h2>
            <div class="tutorial-steps">
                <div class="tutorial-step">
                    <div class="step-icon">👈</div>
                    <div class="step-text">左手指向不同方向來選擇答案</div>
                </div>
                <div class="tutorial-step">
                    <div class="step-icon">👉</div>
                    <div class="step-text">右手向上確認選擇</div>
                </div>
                <div class="tutorial-step">
                    <div class="step-icon">🙌</div>
                    <div class="step-text">雙手向下可暫停遊戲</div>
                </div>
                <div class="tutorial-step">
                    <div class="step-icon">⚡</div>
                    <div class="step-text">連續答對可以獲得額外獎勵</div>
                </div>
            </div>
            <button id="start-game" class="game-button">開始遊戲</button>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils/drawing_utils.js"></script>
    <script src="game.js"></script>
  </body>
</html>
